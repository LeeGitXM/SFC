#!/bin/sh
#
# Save the source tree for sfc and common into a zip repository.
# Do not intentionally include build products. Make clean before 
# running this script.
#
#set -x
REPO_ROOT=~/Development/ils/src
SVN=~/Development/ils/svn/EMChemicals/Release/src
VERS=TRANSLATION
TMP=$REPO_ROOT/$VERS
# Cleanup
rm -rf $TMP
cd $REPO_ROOT
mkdir $TMP
cd $REPO_ROOT/sfc/migration
./clear-xml
./clear-procs
rm -f mdb/*.db
cp -a mdb $TMP
cd mdb
./mkdatabase
cd ..
./copy-procs
./copy-xml
./translate-onstart
./convert-usecases
cd usecases
./gentest 1
./gentest 2
./gentest 3
./gentest 4
./gentest 5
./gentest 6
./gentest 7
./gentest 8
./gentest 9
./gentest 10
./gentest 11
./gentest 12
cd $REPO_ROOT/sfc/xml/ignition/Unittests
mkdir -p $TMP/Unittests
cp -a *.proj $TMP/Unittests

# Now zip and copy to subversion
cd $REPO_ROOT
zip -r sfc-usecases.zip $VERS
cp sfc-usecases.zip $SVN
rm -rf $TMP
