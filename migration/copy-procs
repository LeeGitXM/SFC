#!/bin/sh
# Copy G2 procedure exports from svn into our project
# for processing with conversion tools. Segregate "normal"
# versus those destined to be "onstart"
#
SVN="${SVN_REPO}/EMChemicals/G2Artifacts/Sequential Control"
ESCOREZ="${SVN_REPO}/EMChemicals/Migration/Escorez/Exports From G2/SequentialControl"
VISTALON="${SVN_REPO}/EMChemicals/Migration/Vistalon/Exports From G2/SequentialControl"
PROCS=${GIT_REPO}/sfc/migration/procs
mkdir -p $PROCS/g2/escorez/onstart
mkdir -p $PROCS/g2/escorez/onstop
mkdir -p $PROCS/g2/usecase/onstart
mkdir -p $PROCS/g2/vistalon/onstart
mkdir -p $PROCS/g2/vistalon/onstop
mkdir -p $PROCS/g2/usecase/normal
mkdir -p $PROCS/ignition/escorez/onstart
mkdir -p $PROCS/ignition/escorez/onstop
mkdir -p $PROCS/ignition/usecase/onstart
mkdir -p $PROCS/ignition/vistalon/onstart
mkdir -p $PROCS/ignition/vistalon/onstop
mkdir -p $PROCS/ignition/usecase/normal
#cp -a "${SVN}"/UnitTests/*/callbacks/*.txt $REPO/g2/onstart
for fil in "${SVN}"/UnitTests/*/callbacks/*.txt
do
	name=`basename "$fil"`
	cat "$fil"  > ${PROCS}/g2/usecase/onstart/$name
done
for fil in "${SVN}"/UnitTests/*/callbacks/*/*.txt
do
	name=`basename "$fil"`
	cat "$fil"  > ${PROCS}/g2/usecase/onstart/$name
done
# ======================================== Escorez ==========================================
for fil in "${ESCOREZ}"/*/callbacks/*.txt "${ESCOREZ}"/*/callbacks/*/*.txt
do
	name=`basename "$fil"`
	cat "$fil"  > ${PROCS}/g2/escorez/onstart/$name
done
# ======================================== Vistalon ==========================================
for fil in "${VISTALON}"/*/callbacks/*.txt "${VISTALON}"/*/callbacks/*/*.txt
do
	name=`basename "$fil"`
	cat "$fil"  > ${PROCS}/g2/vistalon/onstart/$name
done
#onstop
DIR="${SVN_REPO}/EMChemicals/G2Artifacts/Source code/artie-sequential-control/procedures"
cd "${DIR}"
for fil in DR-GAS-CIRCULATING-TEST.txt DR-MANAGE-HT-SOAK-CYCLES.txt DR-TERMINATION-MONITOR.txt DR-TIME-MONITOR.txt DR-TOP-TEMP-MONITOR.txt DR-TOP-TEMP-MONITOR-COOL-DOWN.txt
do
	cat "$fil"  > "${PROCS}/g2/vistalon/onstop/$fil"
done
# Copy the generic procedures into the application areas
cd ${PROCS}
cp generic/onstart/* ignition/vistalon/onstart
